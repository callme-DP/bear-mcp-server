{
  "schema_version": "v1",
  "name_for_human": "Bear Notes Plugin",
  "name_for_model": "bear_notes_plugin",
  "description_for_human": "连接你的 Bear 笔记系统，支持语义检索、洞察生成与笔记写入。",
  "description_for_model": "一个用于访问本地 Bear 笔记数据库的插件，提供语义检索、每日洞察生成和创建笔记的接口。",
  "auth": {
    "type": "none"
  },
  "api": {
    "type": "openapi",
    "url": "https://c29ba4fb2eaf.ngrok-free.app/openapi.yaml"
  },
  "logo_url": "https://c29ba4fb2eaf.ngrok-free.app/logo.png",
  "contact_email": "support@lumiai.local",
  "legal_info_url": "https://c29ba4fb2eaf.ngrok-free.app/legal",

  "endpoints": {
    "search_notes": {
      "method": "POST",
      "path": "/search_notes",
      "summary": "语义检索笔记",
      "description": "根据关键词或语义内容搜索本地 Bear 笔记，返回匹配的标题、摘要与 ID。",
      "parameters": {
        "args.query": {
          "type": "string",
          "description": "搜索关键词或句子"
        }
      },
      "response": {
        "notes": [
          {
            "id": "string",
            "title": "string",
            "content": "string"
          }
        ]
      }
    },

    "retrieve_for_rag": {
      "method": "POST",
      "path": "/retrieve_for_rag",
      "summary": "向量语义检索笔记",
      "description": "使用嵌入模型查找语义上相似的笔记，用于 RAG（检索增强生成）任务。",
      "parameters": {
        "args.query": {
          "type": "string",
          "description": "待匹配的语义文本"
        }
      },
      "response": {
        "context": [
          {
            "id": "string",
            "title": "string",
            "score": "float"
          }
        ]
      }
    },

    "daily_insight_context": {
      "method": "POST",
      "path": "/daily_insight_context",
      "summary": "生成每日反思上下文",
      "description": "从 Bear 笔记中提取今日笔记与历史相关笔记，返回结构化的上下文与提示词，用于 GPT 洞察生成。",
      "parameters": {
        "args.hours": {
          "type": "integer",
          "default": 24,
          "description": "检索最近多少小时的笔记（默认 24 小时）"
        },
        "args.limit": {
          "type": "integer",
          "default": 5,
          "description": "返回历史语义笔记数量"
        }
      },
      "response": {
        "system_prompt": "string",
        "context": {
          "today": [
            {
              "id": "string",
              "title": "string",
              "content": "string"
            }
          ],
          "related": [
            {
              "id": "string",
              "title": "string",
              "score": "float"
            }
          ]
        }
      }
    },

    "create_note": {
      "method": "POST",
      "path": "/create_note",
      "summary": "创建新笔记",
      "description": "将生成的内容或洞察写入 Bear 笔记系统。",
      "parameters": {
        "args.title": {
          "type": "string",
          "description": "新笔记标题"
        },
        "args.content": {
          "type": "string",
          "description": "笔记内容"
        }
      },
      "response": {
        "status": "string",
        "note_id": "string"
      }
    }
  },

  "ui": {
    "primary_color": "#EF6C00",
    "accent_color": "#FBE9E7"
  }
}
